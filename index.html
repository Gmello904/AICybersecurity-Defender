<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MellowSecure ‚Äî Dashboard with Red Ripple Wave</title>
<style>
  /* ---------- Base ---------- */
  :root {
    --bg: #0b0f17;
    --card: #0f1620;
    --accent: #0ad4a6;
    --btn: #0a84ff;
    --red-core: rgba(255,60,60,0.95);
    --red-mid: rgba(255,0,0,0.45);
  }
  * { box-sizing: border-box; }
  body {
    margin: 0;
    font-family: "Segoe UI", Arial, sans-serif;
    background: var(--bg);
    color: #f5f5f5;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* ---------- Header ---------- */
  header{
    background: radial-gradient(circle at center, #0a84ff 0%, #0ad4a6 90%);
    padding: 36px 20px;
    text-align:center;
    color:#fff;
    box-shadow: 0 0 25px rgba(0,0,0,0.8);
  }
  .header-content { display:flex; align-items:center; justify-content:center; gap:12px; }
  .shield { font-size:2.8rem; color:var(--accent); text-shadow:0 0 10px #0a84ff; }
  header h1 { margin:0; font-size:2.6rem; letter-spacing:1px; text-shadow:0 0 25px #0ad4a6,0 0 50px #0a84ff; }

  /* ---------- Container ---------- */
  main.container {
    max-width: 1300px;
    margin: 26px auto;
    padding: 18px;
  }

  h2.section-title {
    color: var(--accent);
    margin: 6px 0 12px;
  }

  /* ---------- Grid ---------- */
  .grid {
    display: grid;
    grid-template-columns: 1fr 520px;
    gap: 20px;
    align-items: start;
  }

  /* When narrow, stack */
  @media (max-width: 980px){
    .grid { grid-template-columns: 1fr; }
  }

  /* ---------- Cards ---------- */
  .card {
    background: var(--card);
    border-radius: 12px;
    padding: 18px;
    box-shadow: 0 0 22px rgba(0,0,0,0.45);
  }
  .card h3 { margin: 0 0 10px; color:#cfeff2; }

  /* ---------- Threat Log ---------- */
  .threat-log {
    background: #000;
    color: #00ff66;
    font-family: "Courier New",Courier,monospace;
    padding: 12px;
    border-radius: 8px;
    height: 220px;
    overflow-y: auto;
    border: 1px solid var(--accent);
    white-space: pre-wrap;
  }

  .btn {
    background: var(--btn);
    color: white;
    border: none;
    padding: 10px 14px;
    margin: 6px 6px 0 0;
    border-radius: 8px;
    cursor: pointer;
    font-weight:700;
  }
  .btn:hover { transform: translateY(-2px) scale(1.03); background: #0ad4a6; color: black; }

  /* ---------- Metrics ---------- */
  .metrics { display:flex; gap:12px; flex-wrap:wrap; margin-bottom:12px; }
  .metric { background:#071018; padding:10px 12px; border-radius:8px; }
  .metric small { color:#9aa3ad; display:block; }
  .metric strong { display:block; font-size:1.05rem; margin-top:6px; color:#fff; }

  /* ---------- Threat Chart Card ---------- */
  #threatChart { width:100%; height:320px; max-height:320px; }

  /* ---------- System Health Card (target) ---------- */
  #systemHealthCard { position: relative; overflow: visible; }

  #systemHealthCard p { margin: 8px 0; color:#dbe9ee; }
  #systemHealthCard .manual { margin-top: 12px; }

  input.small-input, textarea.small-input {
    padding: 10px;
    border-radius: 6px;
    border: none;
    background: #0b1720;
    color: #fff;
    width:100%;
  }

  /* ---------- RED RIPPLE WAVE (double-layer, compact, fast, bright) ---------- */
  /* container positioned relative to the System Health card so it sits to the left */
  .ripple-wrap {
    position: absolute;
    top: 40%;
    left: -140px; /* places ripple to the left of card in the free space */
    width: 260px;
    height: 260px;
    pointer-events: none;
    z-index: 30;
    display: none;
    transform: translateY(-40%);
  }

  .wave {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 180px;
    height: 180px;
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    opacity: 0;
    pointer-events: none;
    background: radial-gradient(circle, var(--red-core) 0%, var(--red-mid) 40%, rgba(255,0,0,0.12) 65%, transparent 80%);
    box-shadow: 0 0 18px rgba(255,30,30,0.35), inset 0 0 10px rgba(255,80,80,0.25);
    filter: blur(2px);
  }

  /* second wave sits behind and is slightly offset */
  .wave.wave-2 {
    width: 230px;
    height: 230px;
    background: radial-gradient(circle, rgba(255,80,80,0.86) 0%, rgba(255,0,0,0.34) 40%, rgba(255,0,0,0.08) 62%, transparent 78%);
    filter: blur(4px);
  }

  /* active animations: faster cycles */
  .ripple-active .wave.wave-1 { animation: ripple1 0.9s cubic-bezier(.2,.9,.2,1) infinite; }
  .ripple-active .wave.wave-2 { animation: ripple2 1.6s cubic-bezier(.2,.9,.2,1) infinite; }

  @keyframes ripple1 {
    0%   { transform: translate(-50%,-50%) scale(0.38); opacity: 0.96; }
    45%  { transform: translate(-50%,-50%) scale(1.45); opacity: 0.62; }
    100% { transform: translate(-50%,-50%) scale(2.1); opacity: 0; }
  }
  @keyframes ripple2 {
    0%   { transform: translate(-50%,-50%) scale(0.25); opacity: 0.9; }
    50%  { transform: translate(-50%,-50%) scale(1.25); opacity: 0.55; }
    100% { transform: translate(-50%,-50%) scale(2.6); opacity: 0; }
  }

  /* make sure small screens still show wave nicely */
  @media (max-width:980px){
    .ripple-wrap { left: calc(50% - 130px); top: -120px; transform: translateX(-50%); }
  }

  /* footer */
  footer { text-align:center; padding:14px; color:#9aa3ad; margin-top:18px; font-size:0.95rem; }
</style>
</head>
<body>

<header>
  <div class="header-content">
    <span class="shield">üõ°Ô∏è</span>
    <div>
      <h1>MellowSecure</h1>
      <p style="margin:6px 0 0; font-size:0.95rem; opacity:.95">Smart Detection ‚Ä¢ Instant Defense ‚Ä¢ Predictive Intelligence</p>
    </div>
  </div>
</header>

<main class="container">
  <h2 class="section-title">System Overview</h2>

  <div class="metrics">
    <div class="metric"><small>Active AI Scans</small><strong id="scanCount">0</strong></div>
    <div class="metric"><small>Threats Neutralized</small><strong id="neutralized">0</strong></div>
    <div class="metric"><small>AI Confidence</small><strong id="confidence">98%</strong></div>
    <div class="metric"><small>Connected Systems</small><strong id="connectedCount">3</strong></div>
    <div class="metric"><small>Predicted Threats</small><strong id="predictedThreats">0</strong></div>
  </div>

  <div class="grid">
    <!-- Left: Threat log + Chart -->
    <div class="card">
      <h3>Threat Log</h3>
      <div id="threatLog" class="threat-log">[System Initialized]<br></div>

      <div style="margin-top:12px;">
        <button class="btn" onclick="autoDemo()">Auto Demo Mode</button>
        <button class="btn" onclick="simulateThreat()">Random Threat</button>
        <button class="btn" onclick="activateLearning()">Train AI (Quick)</button>
        <button class="btn" onclick="clearLog()">Clear Log</button>
        <button class="btn" onclick="predictThreat()">Predict Threat</button>
        <button class="btn" onclick="autoContain()">Auto Contain Threats</button>
        <button class="btn" onclick="generateComplianceReport()">Compliance Report</button>
        <button class="btn" onclick="simulateCyberDrill()">Cyber Drill</button>
      </div>

      <hr style="border:0;border-top:1px solid rgba(10,212,166,0.06); margin:14px 0;">
      <h3>Threat Analytics</h3>
      <canvas id="threatChart"></canvas>
      <div style="margin-top:10px; font-size:0.95rem; color:#9aa3ad;">
        <span style="display:inline-block;margin-right:18px;"><span style="display:inline-block;width:18px;height:10px;background:#0a84ff;border-radius:2px;margin-right:8px;vertical-align:middle;border:2px solid #fff"></span> DDoS</span>
        <span style="display:inline-block;margin-right:18px;"><span style="display:inline-block;width:18px;height:10px;background:#ff3b3b;border-radius:2px;margin-right:8px;vertical-align:middle;border:2px solid #fff"></span> SQL Injection</span>
        <span style="display:inline-block;margin-right:18px;"><span style="display:inline-block;width:18px;height:10px;background:#ffa500;border-radius:2px;margin-right:8px;vertical-align:middle;border:2px solid #fff"></span> Malware</span>
        <span style="display:inline-block;"><span style="display:inline-block;width:18px;height:10px;background:#0ad4a6;border-radius:2px;margin-right:8px;vertical-align:middle;border:2px solid #fff"></span> Phishing</span>
      </div>
    </div>

    <!-- Right: System Health (target for ripple) -->
    <div id="systemHealthCard" class="card">
      <!-- ripple container sits inside this card and positioned via CSS to the left -->
      <div class="ripple-wrap" id="emergencyRipple">
        <div class="wave wave-1"></div>
        <div class="wave wave-2"></div>
      </div>

      <h3>System Health</h3>
      <p>CPU Load: <span id="cpuLoad">23%</span></p>
      <p>Memory Usage: <span id="memory">48%</span></p>
      <p>Network Latency: <span id="latency">32ms</span></p>

      <h4 style="margin-top:18px; color:#cfeff2;">Manual Input Detection</h4>
      <textarea id="manualInput" class="small-input" placeholder="Paste suspicious payload" style="height:92px; margin-top:8px;"></textarea>
      <div style="margin-top:12px;">
        <button class="btn" onclick="detectManual()">Analyze Input</button>
        <button class="btn" onclick="generateReport()">Generate Report</button>
        <button class="btn" onclick="testRipple()">Test Wave</button>
      </div>
    </div>
  </div>
</main>

<footer>Built for Hackathon 2025 | MellowSecure AI Cybersecurity</footer>

<!-- Siren audio (keeps functionality) -->
<audio id="sirenSound" src="https://actions.google.com/sounds/v1/emergency/car_alarm.ogg" preload="auto"></audio>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  /* ---------- Elements ---------- */
  const log = document.getElementById('threatLog');
  const status = document.getElementById('systemStatus') || null;
  const intelFeed = document.getElementById('intelFeed') || null;
  const scanCount = document.getElementById('scanCount');
  const neutralized = document.getElementById('neutralized');
  const confidence = document.getElementById('confidence');
  const audio = document.getElementById('sirenSound');

  let threats = { DDoS:0, SQL:0, Malware:0, Phishing:0 };
  let scans = 0;
  let neutralizedCount = 0;
  let predictedCount = 0;

  /* ---------- Chart ---------- */
  const ctx = document.getElementById('threatChart').getContext('2d');
  const threatChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: ['DDoS','SQL Injection','Malware','Phishing'],
      datasets: [{
        data: [0,0,0,0],
        backgroundColor: ['#0a84ff','#ff3b3b','#ffa500','#0ad4a6'],
        borderColor: '#0f1620',
        borderWidth: 3
      }]
    },
    options: {
      plugins: { legend: { labels: { color: '#fff' } } },
      maintainAspectRatio: false
    }
  });

  function updateChart() {
    threatChart.data.datasets[0].data = [threats.DDoS, threats.SQL, threats.Malware, threats.Phishing];
    threatChart.update();
  }

  function addLog(msg) {
    const ts = new Date().toLocaleTimeString();
    log.innerHTML += `[${ts}] ${msg}<br>`;
    log.scrollTop = log.scrollHeight;
  }

  function addIntel(msg){
    if(!intelFeed) return;
    const li = document.createElement('li');
    li.textContent = msg;
    intelFeed.prepend(li);
    if(intelFeed.childElementCount > 8) intelFeed.removeChild(intelFeed.lastChild);
  }

  function simulateThreat() {
    const types = ['DDoS','SQL Injection','Malware','Phishing'];
    simulateSpecific(types[Math.floor(Math.random()*types.length)]);
  }

  function playSiren(){
    audio.currentTime = 0;
    audio.volume = 1;
    audio.play().catch(()=>console.log('Audio requires user gesture to play.'));
  }
  function stopSiren(){
    audio.pause();
    audio.currentTime = 0;
  }

  /* ---------- Ripple control (double layered) ---------- */
  const ripple = document.getElementById('emergencyRipple');
  function showRipple(duration=6000){
    ripple.style.display = 'block';
    // add class for animation
    ripple.classList.add('ripple-active');
    playSiren();
    // stop after duration
    setTimeout(() => {
      ripple.classList.remove('ripple-active');
      ripple.style.display = 'none';
      stopSiren();
    }, duration);
  }
  function testRipple(){
    // if visible, turn off
    if(ripple.style.display === 'block'){
      ripple.classList.remove('ripple-active');
      ripple.style.display = 'none';
      stopSiren();
      return;
    }
    showRipple(6000);
  }

  /* ---------- Simulation flows ---------- */
  function simulateSpecific(type){
    scans++;
    scanCount.innerText = scans;
    addLog(`${type} detected. Deploying countermeasures...`);
    // set temporary visual status on card (we don't have a global status element in this layout)
    showRipple(6000);
    setTimeout(()=> {
      addLog(`${type} neutralized.`);
      // map SQL Injection to SQL key
      const key = (type === 'SQL Injection') ? 'SQL' : type;
      threats[key]++;
      neutralizedCount++;
      neutralized.innerText = neutralizedCount;
      if(intelFeed) addIntel(`${type} threat blocked.`);
      updateChart();
    }, 1800);
  }

  function clearLog(){ log.innerHTML = '[System Reset]<br>'; }
  function detectManual(){
    const val = document.getElementById('manualInput').value.trim();
    if(!val) { addLog('No input provided.'); return; }
    addLog(`Analyzing input: ${val}`);
    setTimeout(()=> {
      if(val.toLowerCase().includes('hack') || val.toLowerCase().includes('attack')) simulateSpecific('SQL Injection');
      else addLog('Input appears safe.');
    }, 900);
  }

  function scanExternal(){
    addLog('Scanning external system...');
    showRipple(4000);
    setTimeout(()=> addLog('External scan complete.'), 1600);
  }

  function autoDemo(){
    let count = 0;
    const demo = setInterval(()=> {
      simulateThreat();
      count++;
      if(count > 5) clearInterval(demo);
    }, 2200);
  }
  function activateLearning(){ addLog('AI training initiated...'); setTimeout(()=> { addLog('AI training complete'); confidence.innerText='99%'; }, 1400); }
  function predictThreat(){ addLog('Predicting potential threats...'); setTimeout(()=> { predictedCount++; document.getElementById('predictedThreats').innerText = predictedCount; addIntel('Potential threat predicted.'); }, 900); }
  function autoContain(){ addLog('Automatically containing detected threats...'); setTimeout(()=> { addLog('All active threats contained.'); }, 900); }
  function generateComplianceReport(){ addLog('Generating compliance report...'); setTimeout(()=> { addLog('Compliance report ready.'); }, 900); }
  function simulateCyberDrill(){ addLog('Simulating cyber drill...'); setTimeout(()=> { addLog('Cyber drill completed successfully.'); }, 1400); }
  function generateReport(){ addLog('Generating quick security report...'); setTimeout(()=> { addLog('Report ready. All threats neutralized.'); }, 1000); }

  // expose a test function on window if needed
  window.testRipple = testRipple;
  window.activateEmergencyLights = () => showRipple(6000);

  // init small demo values for chart
  updateChart();
</script>
</body>
</html>
